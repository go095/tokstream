<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>tokstream: tokstream.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>tokstream.h File Reference</h1>The <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> library header.  
<a href="#_details">More...</a>
<p>

<p>
<a href="tokstream_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#0d33609f4516707e03a0dfb9661ffacb">ts_open</a> (const char *file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a new <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> from file.  <a href="#0d33609f4516707e03a0dfb9661ffacb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#cc8988c6701e815df3f5f8cb351f04e1">ts_close</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close a <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a>.  <a href="#cc8988c6701e815df3f5f8cb351f04e1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#f6d52b33b2b0873edd8ff6a0197f234b">ts_push</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Push the current <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> state onto stack.  <a href="#f6d52b33b2b0873edd8ff6a0197f234b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#deb6309b738bd9ba3b984300c54ee491">ts_pop</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pop the current state from the stack.  <a href="#deb6309b738bd9ba3b984300c54ee491"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d6ca1c62ddffaf8e331503090393c0a2"></a><!-- doxytag: member="tokstream.h::ts_bufsiz" ref="d6ca1c62ddffaf8e331503090393c0a2" args="(tokstream *ts, int size)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#d6ca1c62ddffaf8e331503090393c0a2">ts_bufsiz</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts, int size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set input buffer size for stream. <br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Stream information</div></td></tr>
<tr><td colspan="2"><div class="groupText">Functions to get status information about a token stream. <br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#c22a3d305c1f4c574819078b9d5ef254">ts_eof</a> (const <a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> is at EOF.  <a href="#c22a3d305c1f4c574819078b9d5ef254"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#c0608fb6b6d0f380b531c50dbef76fca">ts_error</a> (const <a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get file error flag of a <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a>.  <a href="#c0608fb6b6d0f380b531c50dbef76fca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#454fa9e782ad86c251490d710131a35a">ts_line</a> (const <a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return current line number.  <a href="#454fa9e782ad86c251490d710131a35a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#c8e0630bb0f357e9bbc369182f64595c">ts_char</a> (const <a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return current character position.  <a href="#c8e0630bb0f357e9bbc369182f64595c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#c54f5270d92e4a5ff22f29df227b4492">ts_tok</a> (const <a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the current token.  <a href="#c54f5270d92e4a5ff22f29df227b4492"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Token getters</div></td></tr>
<tr><td colspan="2"><div class="groupText">Functions to get tokens from the input stream, modifying the current token. <br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45">ts_get</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the next token from stream.  <a href="#e03e4cf01bce86fbb0574389526f6f45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#477d08cc7f074bd895ea9a14afc3b356">ts_unget</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unget current token.  <a href="#477d08cc7f074bd895ea9a14afc3b356"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#58647685a28f256623afe5a8a3ea05c1">ts_getline</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get rest of line from stream.  <a href="#58647685a28f256623afe5a8a3ea05c1"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Input skipping</div></td></tr>
<tr><td colspan="2"><div class="groupText">Functions to skip over parts of the input without modifying the current stream status, ie. current token. <br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#8c69927299c52f3f5344034480dc623d">ts_skip</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Skip over the next token.  <a href="#8c69927299c52f3f5344034480dc623d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#6cb7ebbcf62537dd46393f3a7c3f7209">ts_skipline</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Skip line in stream.  <a href="#6cb7ebbcf62537dd46393f3a7c3f7209"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Input seeking</div></td></tr>
<tr><td colspan="2"><div class="groupText">Seek to specific position in token stream. <br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#74219b71b296b20a83afa7784013fa8a">ts_seek</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts, const char *tok)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Seek to token.  <a href="#74219b71b296b20a83afa7784013fa8a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#916a6ed8e5c0a57745d4a0acf9e51116">ts_seekc</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts, char c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Seek to character.  <a href="#916a6ed8e5c0a57745d4a0acf9e51116"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#35a3072da5a7b223cb7eeabcabbf3b95">ts_seekca</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts, const char *ca)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Seek to any character from array.  <a href="#35a3072da5a7b223cb7eeabcabbf3b95"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Separator and delimiter control</div></td></tr>
<tr><td colspan="2"><div class="groupText">Functions to set which characters act as separators and which act as delimiters. <br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f69cb0dcff06ebcb9f4a40bc78226cdc"></a><!-- doxytag: member="tokstream.h::ts_sep" ref="f69cb0dcff06ebcb9f4a40bc78226cdc" args="(tokstream *ts, const char *sep)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#f69cb0dcff06ebcb9f4a40bc78226cdc">ts_sep</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts, const char *sep)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set separator characters. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3a260454a37ee11a4d811a54909b0bfa"></a><!-- doxytag: member="tokstream.h::ts_sep_on" ref="3a260454a37ee11a4d811a54909b0bfa" args="(tokstream *ts, char c)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#3a260454a37ee11a4d811a54909b0bfa">ts_sep_on</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts, char c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set character as separator. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4da6fb2a7379dd0f7cc6f3b99508a5f3"></a><!-- doxytag: member="tokstream.h::ts_sep_off" ref="4da6fb2a7379dd0f7cc6f3b99508a5f3" args="(tokstream *ts, char c)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#4da6fb2a7379dd0f7cc6f3b99508a5f3">ts_sep_off</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts, char c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unset character as separator. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="be987ba17fb5952872fbe8a66b53eab1"></a><!-- doxytag: member="tokstream.h::ts_delim" ref="be987ba17fb5952872fbe8a66b53eab1" args="(tokstream *ts, const char *delim)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#be987ba17fb5952872fbe8a66b53eab1">ts_delim</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts, const char *delim)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set delimiter characters. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="97d3088472523c4b4e56b3127abd0ab8"></a><!-- doxytag: member="tokstream.h::ts_delim_on" ref="97d3088472523c4b4e56b3127abd0ab8" args="(tokstream *ts, char c)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#97d3088472523c4b4e56b3127abd0ab8">ts_delim_on</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts, char c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set character as delimiter. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fd4d327e839e632098eab2616488face"></a><!-- doxytag: member="tokstream.h::ts_delim_off" ref="fd4d327e839e632098eab2616488face" args="(tokstream *ts, char c)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tokstream_8h.html#fd4d327e839e632098eab2616488face">ts_delim_off</a> (<a class="el" href="structtokstream.html">tokstream</a> *ts, char c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unset character as delimiter. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> library header. 
<p>
This is the header file of the <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> library. It contains a number of functions, all prefixed with <b>ts_</b>, to operate on files as a stream of tokens. <hr><h2>Function Documentation</h2>
<a class="anchor" name="c8e0630bb0f357e9bbc369182f64595c"></a><!-- doxytag: member="tokstream.h::ts_char" ref="c8e0630bb0f357e9bbc369182f64595c" args="(const tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ts_char           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return current character position. 
<p>
This function gives the position of the character at which the current token was read in its line. If there is no current token, the character position of the next processed character is returned.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The stream to return its character position.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the character position of the current token. </dd></dl>

</div>
</div><p>
<a class="anchor" name="cc8988c6701e815df3f5f8cb351f04e1"></a><!-- doxytag: member="tokstream.h::ts_close" ref="cc8988c6701e815df3f5f8cb351f04e1" args="(tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ts_close           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close a <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a>. 
<p>
Closes the file of the <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> and frees all allocated memory.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> to be closed. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c22a3d305c1f4c574819078b9d5ef254"></a><!-- doxytag: member="tokstream.h::ts_eof" ref="c22a3d305c1f4c574819078b9d5ef254" args="(const tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ts_eof           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if a <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> is at EOF. 
<p>
Checks if the <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> has reached end-of-file (EOF). Calls feof() for the underlying file object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> to check for EOF.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a non-zero value if file is at EOF. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c0608fb6b6d0f380b531c50dbef76fca"></a><!-- doxytag: member="tokstream.h::ts_error" ref="c0608fb6b6d0f380b531c50dbef76fca" args="(const tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ts_error           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get file error flag of a <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a>. 
<p>
This function returns the value of ferror() from <em>after the last read operation</em>. Because of buffering, this is asynchronuous with <a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45" title="Get the next token from stream.">ts_get()</a> calls.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> of which to get the file error flag.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Report the last value of ferror() for the tokstream's FILE* object. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e03e4cf01bce86fbb0574389526f6f45"></a><!-- doxytag: member="tokstream.h::ts_get" ref="e03e4cf01bce86fbb0574389526f6f45" args="(tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * ts_get           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the next token from stream. 
<p>
Search the input stream for the next token, according to current separator and delimiter settings.<p>
The string returned belongs to the <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> object. It will be invalid on the next call to <a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45" title="Get the next token from stream.">ts_get()</a>.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This fetches the <em>next</em> token from the stream. If you want to get the <em>current</em> token, use <a class="el" href="tokstream_8h.html#c54f5270d92e4a5ff22f29df227b4492" title="Return the current token.">ts_tok()</a>.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="tokstream_8h.html#c54f5270d92e4a5ff22f29df227b4492" title="Return the current token.">ts_tok()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The stream to get the token from.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A zero-terminated string containing the next token is returned, or NULL in case of an error (ie. EOF occurred while getting token). </dd></dl>

</div>
</div><p>
<a class="anchor" name="58647685a28f256623afe5a8a3ea05c1"></a><!-- doxytag: member="tokstream.h::ts_getline" ref="58647685a28f256623afe5a8a3ea05c1" args="(tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * ts_getline           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get rest of line from stream. 
<p>
Stores the rest of the current line (everything until newline character) as the current token and returns it.<p>
The string will begin with the first non-separator character. If there is no non-separator character until the end of line, the returned string will be empty.<p>
The newline will be consumed, the stream will be positioned at the beginning of the next line.<p>
Subsequent calls to <a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45" title="Get the next token from stream.">ts_get()</a> will return the line as returned by this function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The stream to get the line from.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a string containing the line, or NULL if an error occurred. </dd></dl>

</div>
</div><p>
<a class="anchor" name="454fa9e782ad86c251490d710131a35a"></a><!-- doxytag: member="tokstream.h::ts_line" ref="454fa9e782ad86c251490d710131a35a" args="(const tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ts_line           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return current line number. 
<p>
This function gives the number of the line at which the current token was read in the file. If there is no current token, the line number of the next processed character is returned.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The stream to return its line number.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the line number of the current token. </dd></dl>

</div>
</div><p>
<a class="anchor" name="0d33609f4516707e03a0dfb9661ffacb"></a><!-- doxytag: member="tokstream.h::ts_open" ref="0d33609f4516707e03a0dfb9661ffacb" args="(const char *file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtokstream.html">tokstream</a> * ts_open           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a new <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> from file. 
<p>
This opens the file given in the argument and constructs a <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> around it.<p>
Before reading can begin, you have to set the separators and delimiters for the <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> by using <a class="el" href="tokstream_8h.html#f69cb0dcff06ebcb9f4a40bc78226cdc" title="Set separator characters.">ts_sep()</a>, <a class="el" href="tokstream_8h.html#be987ba17fb5952872fbe8a66b53eab1" title="Set delimiter characters.">ts_delim()</a> and the according on and off functions.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="tokstream_8h.html#f69cb0dcff06ebcb9f4a40bc78226cdc" title="Set separator characters.">ts_sep()</a>, <a class="el" href="tokstream_8h.html#3a260454a37ee11a4d811a54909b0bfa" title="Set character as separator.">ts_sep_on()</a>, <a class="el" href="tokstream_8h.html#4da6fb2a7379dd0f7cc6f3b99508a5f3" title="Unset character as separator.">ts_sep_off()</a> <p>
<a class="el" href="tokstream_8h.html#be987ba17fb5952872fbe8a66b53eab1" title="Set delimiter characters.">ts_delim()</a>, <a class="el" href="tokstream_8h.html#97d3088472523c4b4e56b3127abd0ab8" title="Set character as delimiter.">ts_delim_on()</a>, <a class="el" href="tokstream_8h.html#fd4d327e839e632098eab2616488face" title="Unset character as delimiter.">ts_delim_off()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>The filename to be opened.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a pointer to the opened <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a>, or NULL on error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="deb6309b738bd9ba3b984300c54ee491"></a><!-- doxytag: member="tokstream.h::ts_pop" ref="deb6309b738bd9ba3b984300c54ee491" args="(tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ts_pop           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pop the current state from the stack. 
<p>
This returns the <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> to a state which was previously pushed to the stack with <a class="el" href="tokstream_8h.html#f6d52b33b2b0873edd8ff6a0197f234b" title="Push the current tokstream state onto stack.">ts_push()</a>. Reading will continue as if the calling of <a class="el" href="tokstream_8h.html#f6d52b33b2b0873edd8ff6a0197f234b" title="Push the current tokstream state onto stack.">ts_push()</a> and subsequently <a class="el" href="tokstream_8h.html#deb6309b738bd9ba3b984300c54ee491" title="Pop the current state from the stack.">ts_pop()</a> never occurred.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="tokstream_8h.html#f6d52b33b2b0873edd8ff6a0197f234b" title="Push the current tokstream state onto stack.">ts_push()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> of which a stacked state is to be restored.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>On attempting to pop the last state from the stack, the function returns a non-zero value. </dd></dl>

</div>
</div><p>
<a class="anchor" name="f6d52b33b2b0873edd8ff6a0197f234b"></a><!-- doxytag: member="tokstream.h::ts_push" ref="f6d52b33b2b0873edd8ff6a0197f234b" args="(tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ts_push           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Push the current <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> state onto stack. 
<p>
This saves all current information of the <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a>, but does not alter any of its properties. Reading will continue just like before the call.<p>
Using <a class="el" href="tokstream_8h.html#deb6309b738bd9ba3b984300c54ee491" title="Pop the current state from the stack.">ts_pop()</a>, reading can later be continued exactly from the moment <a class="el" href="tokstream_8h.html#f6d52b33b2b0873edd8ff6a0197f234b" title="Push the current tokstream state onto stack.">ts_push()</a> was called. Every setting in the <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> is restored.<p>
It is possible to push multiple states on top of each other onto the stack. The limit of this is defined by available memory.<p>
If pushing the state onto the stack fails (due to memory allocation), all of the stack is lost. If possible, a single empty state is pushed onto the stack, so that ts_ functions will not fail mysteriously.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="tokstream_8h.html#deb6309b738bd9ba3b984300c54ee491" title="Pop the current state from the stack.">ts_pop()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> of which the state is to be saved to the stack.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>In case of an error, a non-zero value is returned. </dd></dl>

</div>
</div><p>
<a class="anchor" name="74219b71b296b20a83afa7784013fa8a"></a><!-- doxytag: member="tokstream.h::ts_seek" ref="74219b71b296b20a83afa7784013fa8a" args="(tokstream *ts, const char *tok)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ts_seek           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>tok</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Seek to token. 
<p>
The searched token will be the <em>current</em> token. The next call to <a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45" title="Get the next token from stream.">ts_get()</a> will fetch a new token.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The token stream to operate on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tok</em>&nbsp;</td><td>The token to seek.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A non-zero value is returned to indicate the token was not found. </dd></dl>

</div>
</div><p>
<a class="anchor" name="916a6ed8e5c0a57745d4a0acf9e51116"></a><!-- doxytag: member="tokstream.h::ts_seekc" ref="916a6ed8e5c0a57745d4a0acf9e51116" args="(tokstream *ts, char c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * ts_seekc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Seek to character. 
<p>
Stores the input until it encounters the <em>c</em> character and returns it as a token.<p>
The string will begin with the first non-separator character. If there is no non-separator character until the character <em>c</em> is found, the returned string will be empty.<p>
The character <em>c</em> will not be consumed, it can be part of the next token.<p>
Subsequent calls to <a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45" title="Get the next token from stream.">ts_get()</a> will return the token as returned by this function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The stream to get the token from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>The character that ends the token.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a string containing the token, or NULL if an error occurred. </dd></dl>

</div>
</div><p>
<a class="anchor" name="35a3072da5a7b223cb7eeabcabbf3b95"></a><!-- doxytag: member="tokstream.h::ts_seekca" ref="35a3072da5a7b223cb7eeabcabbf3b95" args="(tokstream *ts, const char *ca)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * ts_seekca           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>ca</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Seek to any character from array. 
<p>
Stores the input until it encounters any of the <em>ca</em> characters and return it as a token.<p>
The string will begin with the first non-separator character. If there is no non-separator character until a character in <em>ca</em> is found, the returned string will be empty.<p>
The character from <em>ca</em> will not be consumed, it can be part of the next token.<p>
Subsequent calls to <a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45" title="Get the next token from stream.">ts_get()</a> will return the token as returned by this function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The stream to get the token from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ca</em>&nbsp;</td><td>The characters that end the token.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a string containing the token, or NULL if an error occurred. </dd></dl>

</div>
</div><p>
<a class="anchor" name="8c69927299c52f3f5344034480dc623d"></a><!-- doxytag: member="tokstream.h::ts_skip" ref="8c69927299c52f3f5344034480dc623d" args="(tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ts_skip           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Skip over the next token. 
<p>
Using this function, the next token can be skipped without invalidating the current token. This might be useful if the next token is already known, ie. from a call to a seek function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The stream in which to skip a token.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns a non-zero value if an error occurred. </dd></dl>

</div>
</div><p>
<a class="anchor" name="6cb7ebbcf62537dd46393f3a7c3f7209"></a><!-- doxytag: member="tokstream.h::ts_skipline" ref="6cb7ebbcf62537dd46393f3a7c3f7209" args="(tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ts_skipline           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Skip line in stream. 
<p>
Discards the current line in the stream and sets the stream position to the beginning of the next line.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Invalidates current token.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The stream in which to skip a line.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>On error, a non-zero value is returned. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c54f5270d92e4a5ff22f29df227b4492"></a><!-- doxytag: member="tokstream.h::ts_tok" ref="c54f5270d92e4a5ff22f29df227b4492" args="(const tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * ts_tok           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the current token. 
<p>
This function returns the exact same token that was fetched and returned by the last call to <a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45" title="Get the next token from stream.">ts_get()</a>. If no such call was ever made, it will return NULL.<p>
The string returned belongs to the <a class="el" href="structtokstream.html" title="Token stream data structure.">tokstream</a> object. It will be invalid on the next call to <a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45" title="Get the next token from stream.">ts_get()</a>.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45" title="Get the next token from stream.">ts_get()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The stream to get the current token of.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A string containing the current token, or NULL if no such token exists. </dd></dl>

</div>
</div><p>
<a class="anchor" name="477d08cc7f074bd895ea9a14afc3b356"></a><!-- doxytag: member="tokstream.h::ts_unget" ref="477d08cc7f074bd895ea9a14afc3b356" args="(tokstream *ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ts_unget           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtokstream.html">tokstream</a> *&nbsp;</td>
          <td class="paramname"> <em>ts</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unget current token. 
<p>
Put the current token back into the stream, so that the next call to <a class="el" href="tokstream_8h.html#e03e4cf01bce86fbb0574389526f6f45" title="Get the next token from stream.">ts_get()</a> might again return it.<p>
This is useful when you need to changing separators and delimiters, as well as when you need to peek at the next token.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This might cause a buffer refresh.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>The stream to unget the token to.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>If the previous token is no longer available and cannot be ungot, a non-zero value is returned. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 27 23:30:07 2009 for tokstream by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
